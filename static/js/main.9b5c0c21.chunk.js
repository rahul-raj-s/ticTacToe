(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{11:function(e,t,a){e.exports={box:"box_box__2bgV5",x:"box_x__3tvwc",o:"box_o__o30fU",final:"box_final__3Ajcr"}},33:function(e,t,a){e.exports=a(46)},4:function(e,t,a){e.exports={gameContainer:"boxContainer_gameContainer__1OUaz",boxContainer:"boxContainer_boxContainer__YnxzJ",userInfo:"boxContainer_userInfo__1KsfP",gameDetails:"boxContainer_gameDetails__2Pu_0",reload:"boxContainer_reload__1gFvL",footer:"boxContainer_footer__1vETF"}},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),l=a.n(o),c=a(30),i=a(3),s=a(2),u=a(13),m=a(8),p=a.n(m);for(var d=function(e){var t=e.mode,a=Object(u.a)(e,["mode"]),o=Object(n.useState)(""),l=Object(s.a)(o,2),c=l[0],i=l[1],m=Object(n.useState)("1"===t?"Computer":""),d=Object(s.a)(m,2),f=d[0],v=d[1];return r.a.createElement("div",{className:p.a.loginContainer},r.a.createElement("label",null,"First Player"),r.a.createElement("input",{className:p.a.input,value:c,onChange:function(e){return function(e){i(e.target.value)}(e)}}),r.a.createElement("label",null,"Second Player"),"1"===t?r.a.createElement("div",{className:p.a.input},f):r.a.createElement("input",{className:p.a.input,value:f,onChange:function(e){return function(e){"1"!==t&&v(e.target.value)}(e)}}),r.a.createElement("button",{onClick:function(){return a.onLogin({player1:c,player2:f,mode:{mode:t}})},className:p.a.startButton},"START"))},f=a(6),v=a(14),b=[],g={},h=1;h<10;h++)b.push(h),g=Object(i.a)({},g,Object(f.a)({},h,""));g=Object(i.a)({},g,{term:"O",computersMove:[],opponentsMove:[]});var E=a(18),_=a.n(E);a(40);_.a.initializeApp({apiKey:"AIzaSyCT7xyDFbQUQ_ozYKxx6SYNe09AgpNUqI0",authDomain:"tic-tac-toe-dfbb3.firebaseapp.com",databaseURL:"https://tic-tac-toe-dfbb3.firebaseio.com",projectId:"tic-tac-toe-dfbb3",storageBucket:"tic-tac-toe-dfbb3.appspot.com",messagingSenderId:"44261683513",appId:"1:44261683513:web:febe3320b34595052f38e8",measurementId:"G-RF7L67RN49"});var O=_.a,j=[[1,2,3],[4,5,6],[7,8,9],[1,5,9],[3,5,7],[1,4,7],[2,5,8],[3,6,9]],C=function(e){for(var t=0;t<8;t++){var a=j[t];if(""!==e[a[0]]&&e[a[0]]===e[a[1]]&&e[a[0]]===e[a[2]])return a}return!1},y=[1,3,7,9],x=[[1,2,3],[4,5,6],[7,8,9],[1,5,9],[3,5,7],[1,4,7],[2,5,8],[3,6,9]];function N(e){var t;do{t=Math.floor(10*Math.random())}while(""!==e[t]);return t}function S(e,t){for(var a=0;a<x.length;a++)if(x[a].includes(e[0])&&x[a].includes(e[1]))for(var n=0;n<3;n++)if(""===t[x[a][n]])return x[a][n];return!1}function w(e,t){for(var a=0;a<t.length-1;a++)for(var n=a+1;n<t.length;n++){var r=S([t[a],t[n]],e);if(r)return r}return!1}var I=function(e,t,a){var n;if(1===t&&"high"===a)if(""===e[5])n=5;else{var r=Math.floor(10*Math.random()/3);n=y[r]}else if(3===t&&"high"===a){var o=w(e,e.opponentsMove);n=o||N(e)}else{var l=w(e,e.computersMove);l||(l=w(e,e.opponentsMove)),l||(l=N(e)),n=l}return e.computersMove.push(n),n},k=a(47),M=a(11),P=a.n(M);var D=Object(n.memo)((function(e){var t="O"===e.term?P.a.o:P.a.x,a=e.active?P.a.final:"";return r.a.createElement("div",{className:[P.a.box,t,a].join(" "),onClick:function(){0===e.term.length&&!e.gameLock&&e.handleClick(e.id)}},e.term)})),A=a(4),L=a.n(A);var U=Object(n.memo)((function(e){var t=e.players,a=e.mode,o=e.level,l=e.gameId,c=(Object(u.a)(e,["players","mode","level","gameId"]),Object(n.useState)(g)),m=Object(s.a)(c,2),p=m[0],d=m[1],h=Object(n.useState)({result:[],steps:-1}),E=Object(s.a)(h,2),_=E[0],j=E[1],y=t.player1||"Player1",x=t.player2||"Player2";Object(n.useEffect)((function(){if("1"===a&&0===_.result.length&&_.steps%2===1&&_.steps<9){var e=I(p,_.steps,o);setTimeout((function(){return N(e)}),1e3)}}),[_]),Object(n.useEffect)((function(){var e=C(p);j(e?function(t){return Object(i.a)({},t,{result:e})}:function(e){return Object(i.a)({},e,{steps:e.steps+1})})}),[p]),Object(n.useEffect)((function(){if(_.result.length>0){var e="O"===p.term?x:y;O.firestore().collection("gameStore").doc(l).update({player1:t.player1,player2:t.player2,winner:e}).then(console.log("updte"))}else _.steps>=9&&O.firestore().collection("gameStore").doc(l).update({player1:t.player1,player2:t.player2,winner:"Draw"}).then(console.log("update"))}));var N=function(e){var t=Object(v.a)(p.opponentsMove);"1"===a&&_.steps%2===0&&(t=Object(v.a)(p.opponentsMove)).push(e),d((function(a){var n;return Object(i.a)({},a,(n={},Object(f.a)(n,e,a.term),Object(f.a)(n,"term","O"===a.term?"X":"O"),Object(f.a)(n,"opponentsMove",Object(v.a)(t)),n))}))},S=function(){var e=y;y=x,x=e,d(Object(i.a)({},g,{computersMove:[],opponentsMove:[]})),j({result:[],steps:-1})};return console.log(l),r.a.createElement("div",{className:L.a.gameContainer},_.result.length>0?r.a.createElement("div",{className:L.a.gameDetails},r.a.createElement("span",{className:L.a.userInfo},"".concat("O"===p.term?x:y," win")),r.a.createElement("div",{className:L.a.reload,onClick:S},r.a.createElement(k.a,null))):r.a.createElement("div",{className:L.a.gameDetails},r.a.createElement("span",{className:L.a.userInfo},_.steps>=9?"Game Draw":"".concat("O"===p.term?y:x,"'s turn...")),r.a.createElement("div",{className:L.a.reload,onClick:S},r.a.createElement(k.a,null))),r.a.createElement("div",{className:L.a.boxContainer},b.map((function(e){return r.a.createElement(D,{id:e,key:e,handleClick:function(e){return N(e)},term:p[e],gameLock:_.result.length>0||"1"===a&&_.steps%2===1,active:_.result.includes(e)})}))),r.a.createElement("footer",{className:L.a.footer},"Version 2.0.2"))})),B=a(48),F=a(49),T=a(7),z=a.n(T);function K(e){var t=e.mode,a=e.icon,n=e.onClick;return r.a.createElement("div",{className:z.a.poster,onClick:n},a,r.a.createElement("div",{className:z.a.modeName},t))}function Y(e){var t=e.modeChanger;return r.a.createElement("div",{className:z.a.poster},r.a.createElement("span",{className:z.a.level,onClick:function(){return t("1","low")}},"Easy"),r.a.createElement("span",{className:z.a.level,onClick:function(){return t("1","high")}},"Hard"))}var J=r.a.memo((function(e){var t=e.modeChanger,a=Object(n.useState)(!1),o=Object(s.a)(a,2),l=o[0],c=o[1];return r.a.createElement("div",{className:z.a.modeContainer},l?r.a.createElement(Y,{modeChanger:t}):r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{mode:"Play with Computer",icon:r.a.createElement(B.a,{height:"200px",width:"200px",color:"blue"}),onClick:function(){return c(!0)}}),r.a.createElement(K,{mode:"Happy Together",icon:r.a.createElement("div",{className:z.a.multiUserIcon},r.a.createElement(F.a,{height:"150px",width:"100px",color:"blue"}),r.a.createElement(F.a,{height:"150px",width:"100px",color:"blue"})),onClick:function(){return t("2","low")}})))})),R=a(31);var W=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),c=Object(s.a)(l,2),u=c[0],m=(c[1],Object(n.useState)({mode:!1,level:!1,gameId:!1})),p=Object(s.a)(m,2),f=p[0],v=p[1];return Object(n.useEffect)((function(){O.firestore().collection("gameStore").onSnapshot((function(e){for(var t=0;t<e.docs.length;t++)u.push(e.docs[t].data())}))}),[]),r.a.createElement("div",{className:"App"},!f.mode&&r.a.createElement(J,{modeChanger:function(e,t){return v({mode:e,level:t})}}),a?r.a.createElement(U,{players:a,mode:f.mode,level:f.level,gameId:f.gameId}):f.mode&&r.a.createElement(d,{onLogin:function(e){return function(e){O.firestore().collection("gameStore").add({player1:e.player1,player2:e.player2}).then((function(t){v((function(e){return Object(i.a)({},e,{gameId:t.id})})),o(e)}))}(e)},mode:f.mode}),r.a.createElement(R.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"PPlayer1"),r.a.createElement("th",null,"Player2"),r.a.createElement("th",null,"Winner"))),r.a.createElement("tbody",null,u.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.player1),r.a.createElement("td",null,e.player2),r.a.createElement("td",null,e.winner))})))))};a(41),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(c.a,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports={poster:"ModeSelector_poster__2WJ_A",modeContainer:"ModeSelector_modeContainer__jDAL9",modeName:"ModeSelector_modeName__32Kiu",multiUserIcon:"ModeSelector_multiUserIcon__2YG3b",level:"ModeSelector_level__OcqpK"}},8:function(e,t,a){e.exports={loginContainer:"login_loginContainer__1H0gr",input:"login_input__S5ZYI",startButton:"login_startButton__39u2g"}}},[[33,1,2]]]);
//# sourceMappingURL=main.9b5c0c21.chunk.js.map